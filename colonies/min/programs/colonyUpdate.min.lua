require(settings.get("ghu.base").."core/apis/ghu")local a=require("am.log")local b=require("am.colonies")local c=true;local function d()while c do a.info("Polling colony status...")b.pollColony()a.info("Completed polling colony status")sleep(30)end end;local function e()while c do sleep(10)a.info("Emptying warehouse inventory...")b.emptyWarehouse()a.info("Completed empty warehouse")sleep(20)end end;local function f(g,h)if g~=nil then if peripheral.wrap(g)==nil then error("Invalid transfer chest")end;b.s.transferChest.set(g)end;if h~=nil then if peripheral.wrap(h)==nil then error("Invalid import chest")end;b.s.importChest.set(h)end;if not b.canResume()then error("Missing transfer or import chest")end;parallel.waitForAll(d,e)end;f(arg[1],arg[2])
