local a=require("cc.expect")local b=require("cc.pretty")require(settings.get("ghu.base").."core/apis/ghu")local c=require("am.core")local d={}local e={}e.file={name="log.file",default=nil}e.print={name="log.print",default=true,type="boolean"}d.s=c.makeSettingWrapper(e)local function f(g,h,i)a.expect(2,h,"boolean","nil")a.expect(3,i,"boolean","nil")if h==nil then if type(g)=="string"then h=false else h=true end end;if i==nil then i=false end;if h then g=b.pretty(g)end;local j=d.s.file.get()if j~=nil then local k=fs.open(j,"a")if h then k.writeLine(b.render(g))else k.writeLine(g)end;k.close()end;if i or not d.s.print.get()then return end;if h then b.print(b.group(b.pretty(g)))else print(g)end end;local function l(g,h)f(g,h,false)end;local function m(g,h)f(g,h,true)end;d.info=l;d.debug=m;return d
