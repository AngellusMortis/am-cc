local function a(b,c)return b.count<c.count end;local function d(b,c)return b.count>c.count end;local function e(b,c)return b.displayName:lower()<c.displayName:lower()end;local function f(b,c)return b.displayName:lower()>c.displayName:lower()end;local g={"K","M","T","P"}local function h(i)local j=0;while i>1000 do i=i/1000;j=j+1 end;if j==0 then return tostring(i)end;return string.format("%.1f%s",i,g[j])end;local function k(l,m,n)if m==nil then m=false end;if n==nil then n=true end;local o={}if#l>0 then o=l else for p,q in pairs(l)do o[#o+1]=q end end;if n then if m then table.sort(o,a)else table.sort(o,d)end else if m then table.sort(o,e)else table.sort(o,f)end end;local r={}for p,q in ipairs(o)do r[#r+1]=string.format("%5sx %s",h(q.count),q.displayName)end;return r end;local s={}s.metricString=h;s.itemStrings=k;return s
